block var

doctype html

html(lang="en")
	head
		meta(charset="UTF-8")
		meta(name="viewport", content="width=device-width, initial-scale=1.0")
		meta(http-equiv="X-UA-Compatible", content="ie=edge")
		link(href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet")
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
		link(rel="stylesheet", href="./css/core.min.css")
		link(rel="stylesheet", href="./css/main.min.css")
		link(rel='apple-touch-icon', sizes='57x57', href='../favicon/favicon/apple-icon-57x57.png')
		link(rel='apple-touch-icon', sizes='60x60', href='./favicon/apple-icon-60x60.png')
		link(rel='apple-touch-icon', sizes='72x72', href='./favicon/apple-icon-72x72.png')
		link(rel='apple-touch-icon', sizes='76x76', href='./favicon/apple-icon-76x76.png')
		link(rel='apple-touch-icon', sizes='114x114', href='./favicon/apple-icon-114x114.png')
		link(rel='apple-touch-icon', sizes='120x120', href='./favicon/apple-icon-120x120.png')
		link(rel='apple-touch-icon', sizes='144x144', href='./favicon/apple-icon-144x144.png')
		link(rel='apple-touch-icon', sizes='152x152', href='./favicon/apple-icon-152x152.png')
		link(rel='apple-touch-icon', sizes='180x180', href='./favicon/apple-icon-180x180.png')
		link(rel='icon', type='image/png', sizes='192x192', href='/android-icon-192x192.png')
		link(rel='icon', type='image/png', sizes='32x32', href='./favicon/favicon-32x32.png')
		link(rel='icon', type='image/png', sizes='96x96', href='./favicon/favicon-96x96.png')
		link(rel='icon', type='image/png', sizes='16x16', href='./favicon/favicon-16x16.png')
		link(rel='manifest', href='./favicon/manifest.json')
		meta(name='msapplication-TileColor', content='#ffffff')
		meta(name='msapplication-TileImage', content='/ms-icon-144x144.png')
		meta(name='theme-color', content='#ffffff')

		title #{title}
		script.
			; (function () {
				function id(v) { return document.getElementById(v); }
				function loadbar() {
					var ovrl = id("overlay"),
						prog = id("progress"),
						stat = id("progstat"),
						img = document.images,
						c = 0,
						tot = img.length;
					if (tot == 0) return doneLoading();

					function imgLoaded() {
						c += 1;
						var perc = ((100 / tot * c) << 0);
						prog.style.width = perc;
						stat.innerHTML = perc;
						if (c === tot) return doneLoading();
					}
					function doneLoading() {
						ovrl.style.opacity = 0;
						setTimeout(function () {
							ovrl.style.display = "none";
						}, 1200);
					}
					for (var i = 0; i < tot; i++) {
						var tImg = new Image();
						tImg.onload = imgLoaded;
						tImg.onerror = imgLoaded;
						tImg.src = img[i].src;
					}
				}
				document.addEventListener('DOMContentLoaded', loadbar, false);
			}());
	body(class=bodyClass)
		<div id="overlay">
			.logo-loader
			<div class="progstat-wrapper">Loading: <span id="progstat"></span>%</div>
			<div id="progress"></div>
		</div>
		block header
			include ../components/header/index.pug
		main
			block main
		block footer
			include ../components/footer/index.pug
		script(src="./js/core.min.js")
		script(src="./js/main.min.js")